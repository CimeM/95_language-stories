---
layout: default
---

<div class="archive">
    <article class="story">
      <div id="story-content">
        <div id="chapter-id-0" class=" mb-3">
          <div class="d-flex bd-highlight">
          
          
            <div class="p-2 bd-highlight"
              style=" width:30vw">
         
                <img 
                class="shadow mb-2 rounded-1 border-bottom border-left" 
                src="{{ page.logo }}" 
                alt="{{ page.title  }}" 
                style="
                  min-height: 15vh; width: 100%; object-fit: cover; 
                  background: linear-gradient(to right, rgb(60, 13, 20) 3px, rgba(255, 255, 255, 0.5) 5px, rgba(255, 255, 255, 0.25) 7px, rgba(255, 255, 255, 0.25) 10px, transparent 12px, transparent 16px, rgba(255, 255, 255, 0.25) 17px, transparent 22px), url(https://images-na.ssl-images-amazon.com/images/I/51pnouuPO5L.jpg);
                  box-shadow: 0 0 5px -1px black, inset -1px 1px 2px rgba(255, 255, 255, 0.5);
                ">
            </div>
            <div class="p-2 flex-shrink-1  bd-highlight">
                <p class="fw-bold"> {{ page.title }}</p>
                <p class="mb-0" 
                  style="white-space: nowrap;overflow: hidden; text-overflow: clip; font-size: x-small;">
                  {{ page.author | truncate 5 }}</p>
                <p> {{ page.price }}</p>
                <p> 
                  {% for tag in page.story_tags.main %}
                  <inline class="badge">#{{ tag }}</inline>
                  {% endfor %}
                <p>
            </div>
          </div>
        

          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item mb-0" role="presentation">
              <button class="nav-link active p-2 pt-1 pb-1" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">
                Description
              </button>
            </li>
            <li class="nav-item mb-0 mutted" role="presentation">
              <button class="nav-link p-2 pt-1 pb-1" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">
                Learning overview
              </button>
            </li>
          </ul>
          <div class="tab-content mt-1" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
              <p>
                {{ page.description }}
              </p>
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
              <p >
                {{ page.learning_overview }}
              </p>
            </div>
          </div>
          
        </div>
        
        
        {% assign index = 0 %}
        {% for chap in page.chapters %}
     
          {% assign index = index | plus: 1 %}  
        <div 
          id="chapter-id-{{ index }}"
          style="display: none;"
        >
          <img 
          style="max-height:30vh; width:100%; overflow: hidden; object-fit: cover;"
          src="{{ chap.image }}" 
          alt="{{ chap.label }}" 
          class="img-fluid rounded-4 mb-2">
          
          
          <!-- chapter content -->
          <div class="tab-pane show active" 
            id="pills-home-{{ forloop.index }}"  >
            <h2> {{ chap.label }}</h2>
            <p> {{ chap.content }}</p>
          </div>

          </div>

          {% assign index = index | plus: 1 %}  
          <div 
            id="chapter-id-{{ index }}"
            style="display: none;"
          >
          <!-- quiz content -->
          <div class="" id="pills-profile-{{ forloop.index }}" >
            {% for q in chap.quiz %}
            <div class="quiz-item">
              <p class="fw-bold">{{ q.question }}</p>
              <ul>
                {% for opt in q.options %}
                <li>
                  <input type="radio" class="quiz-option" 
                    {% if forloop.index0 == q.right_answer %} data-correct="true" {% endif%} 
                  >
                  {{ opt }}
                </li>
                {% endfor %}
              </ul>
              <p class="feedback" style="display: none;"></p> 
            </div>
            {% endfor %}
          </div>
          
          
        </div>
        {% endfor %}
        
        <div id="chapter-id-end">
          <h1 id="userpoints_indicator_text" >Felicitations!</h1>
          <p class="fw-bold fs-2"><span id="userpoints_indicator"></span> ponts!</p>
          <p> {{ page.title }} </p>
        </div>
        
      </div>
      <!-- navigate between chapters -->
      <div id="chapter-actions" class="d-flex justify-content-between">
        <button id="previous-chapter" type="button" class="btn btn-secondary">
          <i class="bi bi-chevron-left"></i>
          Back 
        </button>
        <button id="next-chapter" type="button" class="btn btn-secondary">
          Next <i class="bi bi-chevron-right"></i>
          
        </button>
      </div>
    </div>
    <div id="suggestions" style="display: none;">
      {% include stories__list.html %}
    </div>
  </article>

</div>

<script>
  var userPoints = 0
  const indicator = document.querySelector("#userpoints_indicator");
  indicator.textContent = String(userPoints)
  document.addEventListener('DOMContentLoaded', function() {
  const quizItems = document.querySelectorAll('.quiz-item');
  
  quizItems.forEach(item => {
    const options = item.querySelectorAll('.quiz-option');
    const feedback = item.querySelector('.feedback');
    
    options.forEach(option => {
      option.addEventListener('click', function() {
        const isCorrect = this.getAttribute('data-correct') === 'true';
        
        options.forEach(opt => opt.disabled = true);
        
        if (isCorrect) {
          feedback.textContent = "Correct! +1";
          feedback.style.color = "green";
          userPoints++
        } else {
          feedback.textContent = "Incorrect.";
          feedback.style.color = "red";
        }

        indicator.textContent = String(userPoints);
        if(userPoints < 1){
          userpoints_indicator_text.textContent = "Try again!";
        }else {
          userpoints_indicator_text.textContent = "Felicitations!";
        }
        feedback.style.display = "block";
      });
    });
  });
});
</script>

<!-- navigate between chapters -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const chapters = document.querySelectorAll('[id^="chapter-id-"]');
  const nextButton = document.getElementById('next-chapter');
  const previousButton = document.getElementById('previous-chapter');
  const suggestions = document.getElementById('suggestions');
  
  let currentChapter = 0;
  const totalChapters = chapters.length - 1; // Subtract 1 to exclude the end chapter

  
  function showChapter(index) {
    chapters.forEach((chapter, i) => {
      if (i === index) {
        chapter.style.display = 'block';
      } else {
        chapter.style.display = 'none';
      }
    });
  }

  function scrollToTop(){
    // Scroll to the top smoothly
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
  }
  function nameTheButton(){
    if (nextButton && currentChapter==0 ) {
      nextButton.classList.add("btn-primary")
      nextButton.classList.add("w-100")
      nextButton.classList.remove("btn-secondary")
      nextButton.innerHTML="Open"
      previousButton.style.display = 'none';
      suggestions.style.display = 'block';
    } else {
      nextButton.innerHTML="Next >"
      nextButton.classList.remove("btn-primary")
      nextButton.classList.remove("w-100")
      nextButton.classList.add("btn-secondary")
      suggestions.style.display = 'none';
    }
    if (currentChapter === totalChapters) {
      suggestions.style.display = 'block'; // show sug. at the end of the story
    }
  }
  nextButton.addEventListener('click', function() {
    currentChapter++;
    if (currentChapter > 0) {
      previousButton.style.display = 'block';
    }else{
      previousButton.style.display = 'none'; 
    }
    if (currentChapter < totalChapters) {
      showChapter(currentChapter);
    } else if (currentChapter === totalChapters) {
      // Show the end chapter
      chapters.forEach(chapter => chapter.style.display = 'none');
      document.getElementById('chapter-id-end').style.display = 'block';
      nextButton.style.display = 'none'; // Hide the next button on the last page
    }
    scrollToTop();
    nameTheButton()
  });
  previousButton.addEventListener('click', function() {
    currentChapter--;
    
    if (currentChapter < totalChapters) {
      showChapter(currentChapter);
      nextButton.style.display = 'block';
    } else if (currentChapter === totalChapters) {
      // Show the end chapter
      chapters.forEach(chapter => chapter.style.display = 'none');
      document.getElementById('chapter-id-end').style.display = 'block';
      nextButton.style.display = 'none'; // Hide the next button on the last page
      
    }
    scrollToTop();
    nameTheButton()
  });
  
  // Initialize by showing only the first chapter
  showChapter(currentChapter);
  
  nameTheButton()
  
});
</script>