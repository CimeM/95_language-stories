<!-- start custom head snippets -->

<!-- authentication - functonality used in login page and the comms component -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

<script>
    const isDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  
    const htmlElement = document.documentElement;
  
    if (isDark) {
      // console.log("Dark mode is enabled");
      // Apply dark mode styles or functionality
      htmlElement.setAttribute('data-bs-theme', 'dark' );
      document.querySelectorAll(".bg-light").forEach(c=>{
        c.classList.toggle('bg-light')
        c.classList.toggle('bg-dark-subtle')
      })
      
    } else {
      // console.log("Light mode is enabled");
      // Apply light mode styles or functionality
      htmlElement.setAttribute('data-bs-theme', 'light');
    }
  
</script>




{% if site.authentication.firebase.api_key %}
<script defer src="/assets/js/Auth.js"></script>
<script>
  const authManager = new FirebaseAuthManager("{{ site.authentication.firebase.api_key }}");
</script>
{% endif %}

<script src="https://cdn.jsdelivr.net/npm/localforage@1.9.0/dist/localforage.min.js"></script>
<script defer src="/assets/js/Syncable.js"></script>

<script defer src="/assets/js/User.js"></script>
<script defer>
  // create user here to be initialized for all components
  user = new UserAccount(
    authManager.sessionToken, 
    authManager.tokenExpiration,
    "{{ site.apiurl }}"
  );
  
  // trigger the first sync with the database once the user is signed in
  if (authManager.checkSessionToken()){
    user.fetchLatestData()
  }
  
</script>

<script defer src="/assets/js/calendar-contributions-map/moment.js"></script>
<script defer src="/assets/js/calendar-contributions-map/d3.v3.min.js"></script>
<script defer src="/assets/js/calendar-contributions-map/calendar-contributions-map.js"></script>
<link  href="/assets/js/calendar-contributions-map/calendar-contributions-map.css" rel="stylesheet" >



<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">


